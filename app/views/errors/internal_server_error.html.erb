<%# app/views/errors/internal_server_error.html.erb %>
<div class="min-h-screen flex items-center justify-center text-center">
  <div>
    <h1 class="text-9xl font-bold text-red-500">500</h1>
    <h2 class="text-2xl font-bold mt-4">Internal Server Error</h2>
    <p class="text-gray-500 mt-2">Something went wrong on our end. We've been notified and are looking into it.</p>
    <% if current_user %>
      <div class="mt-8">
        <%= form_with(url: feedbacks_path, method: :post) do |f| %>
          <%= f.hidden_field :chat_session_id, value: @chat_session&.id %>
          <%= f.hidden_field :category, value: 'bug' %>
          <%= f.hidden_field :feedback_priority, value: 'high' %>
          <%= f.hidden_field :message, value: "Internal Server Error at #{request.original_url}" %>
          <%= f.submit "Report this error", class: "btn-secondary" %>
        <% end %>
      </div>
    <% end %>
    <%= link_to "Go back to safety", root_path, class: "btn-primary mt-4" %>
  </div>
</div>
