<aside class="sidebar-glass w-72 p-4 fixed left-0 top-0 h-full flex flex-col gap-4">
  <span class="brand-font text-accent-light text-xl tracking-tight mb-4">NEXUS</span>
  <%= link_to new_chat_session_path, class: "btn-primary w-full" do %>
    New Session
  <% end %>
  <h3 class="text-xs text-accent-light mt-6 mb-2">RECENT ACTIVITY</h3>
  <div class="space-y-2">
    <% current_user.chat_sessions.order(updated_at: :desc).limit(10).each do |session| %>
      <%= link_to chat_session_path(session), class: "block p-3 rounded-lg hover:bg-accent-light/10 transition-colors" do %>
        <div class="flex items-center gap-2">
          <i data-lucide="<%= session.persona&.icon || 'message-square' %>" class="w-4 h-4 text-accent-light"></i>
          <span class="text-sm truncate">
            <%= session.title || "New #{session.persona.try(:name) || 'Generic'} Chat" %>
          </span>
        </div>
        <div class="text-xs text-text-secondary mt-1">
          <%= time_ago_in_words(session.updated_at) %> ago
        </div>
      <% end %>
    <% end %>
  </div>
  <div class="flex-1"></div>
  <%= link_to "Beta Info", help_beta_path, class: "text-text-primary hover:text-accent-light font-bold" %>
  <%= link_to "Case Study", help_case_study_path, class: "text-text-primary hover:text-accent-light font-bold" %>
  <% if current_user.admin? %>
    <%= link_to "Admin Dashboard", admin_dashboard_path, class: "text-text-primary hover:text-accent-light font-bold" %>
    <%= link_to "Feedback Inbox", admin_feedbacks_path, class: "text-text-primary hover:text-accent-light font-bold" %>
  <% end %>
  <span class="text-xs text-success-color mb-2">ONLINE</span>
  <%= button_to "LOGOUT", destroy_user_session_path, method: :delete, class: "text-error-color hover:text-red-300 font-bold" %>
</aside>
