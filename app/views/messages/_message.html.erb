<div class="message flex w-full <%= message.user? ? 'justify-end' : 'justify-start' %>" data-role="<%= message.role %>" data-content="<%= message.content %>">
  <div class="max-w-[85%] p-4 text-sm leading-relaxed rounded-xl 
    <%= message.user? ? 
      'bg-gradient-to-br from-orange-500 to-orange-600 text-white shadow-lg hover:shadow-orange-300/50' : 
      'bg-white border-2 border-gray-200 text-gray-900 shadow-sm hover:shadow-md' %>">
    <span class="font-bold text-xs <%= message.user? ? 'text-orange-100' : 'text-orange-600' %>"><%= message.user? ? (message.user.email || 'You') : message.role.capitalize %></span>
    <div class="<%= message.user? ? 'prose prose-sm max-w-none text-white mt-1' : 'prose prose-sm max-w-none text-gray-900 mt-1' %>">
      <%= markdown(message.content) %>
    </div>
  </div>
</div>
